# Flexoki Color Palette

An inky color scheme for prose and code, designed for reading and writing on digital screens. Inspired by analog inks and warm shades of paper.

> [!NOTE]
> This documentation is based on the Flexoki color scheme by [Steph Ango](https://stephango.com/flexoki). This implementation includes research-based deviations from the original Flexoki specification to align with a majority of the current popular color schemes. For the complete original specification and additional resources, visit [stephango.com/flexoki](https://stephango.com/flexoki).

## Color Palette

The complete Flexoki color palette includes base colors and accent colors with exponentially increasing intensity as colors get lighter or darker, emulating pigment on paper.

### Base Colors

| Color                                                     | Name     | Hex       | Light Theme    | Dark Theme        |
| :-------------------------------------------------------- | :------- | :-------- | :------------- | :---------------- |
| <img src="../assets/paper.png" width="64" height="32">    | paper    | `#FFFCF0` | `bg`           | -                 |
| <img src="../assets/base-50.png" width="64" height="32">  | base-50  | `#F2F0E5` | `bg2`          | -                 |
| <img src="../assets/base-100.png" width="64" height="32"> | base-100 | `#E6E4D9` | `ui`           | -                 |
| <img src="../assets/base-150.png" width="64" height="32"> | base-150 | `#DAD8CE` | `ui2`          | -                 |
| <img src="../assets/base-200.png" width="64" height="32"> | base-200 | `#CECDC3` | `ui3`          | `tx`              |
| <img src="../assets/base-300.png" width="64" height="32"> | base-300 | `#B7B5AC` | `txWhitespace` | -                 |
| <img src="../assets/base-400.png" width="64" height="32"> | base-400 | `#9F9D96` | `txDisabled`   | -                 |
| <img src="../assets/base-500.png" width="64" height="32"> | base-500 | `#878580` | `tx3`          | `tx2`             |
| <img src="../assets/base-600.png" width="64" height="32"> | base-600 | `#6F6E69` | `tx2`          | `tx3, txDisabled` |
| <img src="../assets/base-700.png" width="64" height="32"> | base-700 | `#575653` | -              | `txWhitespace`    |
| <img src="../assets/base-800.png" width="64" height="32"> | base-800 | `#403E3C` | -              | `ui3`             |
| <img src="../assets/base-850.png" width="64" height="32"> | base-850 | `#343331` | `tx`           | `ui2`             |
| <img src="../assets/base-900.png" width="64" height="32"> | base-900 | `#282726` | -              | `ui`              |
| <img src="../assets/base-950.png" width="64" height="32"> | base-950 | `#1C1B1A` | -              | `bg2`             |
| <img src="../assets/black.png" width="64" height="32">    | black    | `#100F0F` | -              | `bg`              |

### Red

| Color                                                    | Name    | Hex       | Light Theme | Dark Theme |
| :------------------------------------------------------- | :------ | :-------- | :---------- | :--------- |
| <img src="../assets/red-50.png" width="64" height="32">  | red-50  | `#FFE1D5` | `red4`      | -          |
| <img src="../assets/red-100.png" width="64" height="32"> | red-100 | `#FFCABB` | `red3`      | -          |
| <img src="../assets/red-150.png" width="64" height="32"> | red-150 | `#FDB2A2` | -           | -          |
| <img src="../assets/red-200.png" width="64" height="32"> | red-200 | `#F89A8A` | -           | -          |
| <img src="../assets/red-300.png" width="64" height="32"> | red-300 | `#E8705F` | -           | -          |
| <img src="../assets/red-400.png" width="64" height="32"> | red-400 | `#D14D41` | `red2`      | `red`      |
| <img src="../assets/red-500.png" width="64" height="32"> | red-500 | `#C03E35` | -           | -          |
| <img src="../assets/red-600.png" width="64" height="32"> | red-600 | `#AF3029` | `red`       | `red2`     |
| <img src="../assets/red-700.png" width="64" height="32"> | red-700 | `#942822` | -           | -          |
| <img src="../assets/red-800.png" width="64" height="32"> | red-800 | `#6C201C` | -           | -          |
| <img src="../assets/red-850.png" width="64" height="32"> | red-850 | `#551B18` | -           | -          |
| <img src="../assets/red-900.png" width="64" height="32"> | red-900 | `#3E1715` | -           | `red3`     |
| <img src="../assets/red-950.png" width="64" height="32"> | red-950 | `#261312` | -           | `red4`     |

### Orange

| Color                                                       | Name       | Hex       | Light Theme                | Dark Theme                 |
| :---------------------------------------------------------- | :--------- | :-------- | :------------------------- | :------------------------- |
| <img src="../assets/orange-50.png" width="64" height="32">  | orange-50  | `#FFE7CE` | `orange4`                  | -                          |
| <img src="../assets/orange-100.png" width="64" height="32"> | orange-100 | `#FED3AF` | `orange3, searchCurrentBg` | -                          |
| <img src="../assets/orange-150.png" width="64" height="32"> | orange-150 | `#FCC192` | -                          | -                          |
| <img src="../assets/orange-200.png" width="64" height="32"> | orange-200 | `#F9AE77` | -                          | -                          |
| <img src="../assets/orange-300.png" width="64" height="32"> | orange-300 | `#EC8B49` | -                          | -                          |
| <img src="../assets/orange-400.png" width="64" height="32"> | orange-400 | `#DA702C` | `orange2`                  | `orange`                   |
| <img src="../assets/orange-500.png" width="64" height="32"> | orange-500 | `#CB6120` | -                          | -                          |
| <img src="../assets/orange-600.png" width="64" height="32"> | orange-600 | `#BC5215` | `orange`                   | `orange2`                  |
| <img src="../assets/orange-700.png" width="64" height="32"> | orange-700 | `#9D4310` | -                          | -                          |
| <img src="../assets/orange-800.png" width="64" height="32"> | orange-800 | `#71320D` | -                          | -                          |
| <img src="../assets/orange-850.png" width="64" height="32"> | orange-850 | `#59290D` | -                          | -                          |
| <img src="../assets/orange-900.png" width="64" height="32"> | orange-900 | `#40200D` | -                          | `orange3, searchCurrentBg` |
| <img src="../assets/orange-950.png" width="64" height="32"> | orange-950 | `#27180E` | -                          | `orange4`                  |

### Yellow

| Color                                                       | Name       | Hex       | Light Theme              | Dark Theme               |
| :---------------------------------------------------------- | :--------- | :-------- | :----------------------- | :----------------------- |
| <img src="../assets/yellow-50.png" width="64" height="32">  | yellow-50  | `#FAEEC6` | `yellow4`                | -                        |
| <img src="../assets/yellow-100.png" width="64" height="32"> | yellow-100 | `#F6E2A0` | `yellow3, searchMatchBg` | -                        |
| <img src="../assets/yellow-150.png" width="64" height="32"> | yellow-150 | `#F1D67E` | -                        | -                        |
| <img src="../assets/yellow-200.png" width="64" height="32"> | yellow-200 | `#ECCB60` | -                        | -                        |
| <img src="../assets/yellow-300.png" width="64" height="32"> | yellow-300 | `#DFB431` | -                        | -                        |
| <img src="../assets/yellow-400.png" width="64" height="32"> | yellow-400 | `#D0A215` | `yellow2`                | `yellow`                 |
| <img src="../assets/yellow-500.png" width="64" height="32"> | yellow-500 | `#BE9207` | -                        | -                        |
| <img src="../assets/yellow-600.png" width="64" height="32"> | yellow-600 | `#AD8301` | `yellow`                 | `yellow2`                |
| <img src="../assets/yellow-700.png" width="64" height="32"> | yellow-700 | `#8E6B01` | -                        | -                        |
| <img src="../assets/yellow-800.png" width="64" height="32"> | yellow-800 | `#664D01` | -                        | -                        |
| <img src="../assets/yellow-850.png" width="64" height="32"> | yellow-850 | `#503D02` | -                        | -                        |
| <img src="../assets/yellow-900.png" width="64" height="32"> | yellow-900 | `#3A2D04` | -                        | `yellow3, searchMatchBg` |
| <img src="../assets/yellow-950.png" width="64" height="32"> | yellow-950 | `#241E08` | -                        | `yellow4`                |

### Green

| Color                                                      | Name      | Hex       | Light Theme | Dark Theme |
| :--------------------------------------------------------- | :-------- | :-------- | :---------- | :--------- |
| <img src="../assets/green-50.png" width="64" height="32">  | green-50  | `#EDEECF` | `green4`    | -          |
| <img src="../assets/green-100.png" width="64" height="32"> | green-100 | `#DDE2B2` | `green3`    | -          |
| <img src="../assets/green-150.png" width="64" height="32"> | green-150 | `#CDD597` | -           | -          |
| <img src="../assets/green-200.png" width="64" height="32"> | green-200 | `#BEC97E` | -           | -          |
| <img src="../assets/green-300.png" width="64" height="32"> | green-300 | `#A0AF54` | -           | -          |
| <img src="../assets/green-400.png" width="64" height="32"> | green-400 | `#879A39` | `green2`    | `green`    |
| <img src="../assets/green-500.png" width="64" height="32"> | green-500 | `#768D21` | -           | -          |
| <img src="../assets/green-600.png" width="64" height="32"> | green-600 | `#66800B` | `green`     | `green2`   |
| <img src="../assets/green-700.png" width="64" height="32"> | green-700 | `#536907` | -           | -          |
| <img src="../assets/green-800.png" width="64" height="32"> | green-800 | `#3D4C07` | -           | -          |
| <img src="../assets/green-850.png" width="64" height="32"> | green-850 | `#313D07` | -           | -          |
| <img src="../assets/green-900.png" width="64" height="32"> | green-900 | `#252D09` | -           | `green3`   |
| <img src="../assets/green-950.png" width="64" height="32"> | green-950 | `#1A1E0C` | -           | `green4`   |

### Cyan

| Color                                                     | Name     | Hex       | Light Theme | Dark Theme |
| :-------------------------------------------------------- | :------- | :-------- | :---------- | :--------- |
| <img src="../assets/cyan-50.png" width="64" height="32">  | cyan-50  | `#DDF1E4` | `cyan4`     | -          |
| <img src="../assets/cyan-100.png" width="64" height="32"> | cyan-100 | `#BFE8D9` | `cyan3`     | -          |
| <img src="../assets/cyan-150.png" width="64" height="32"> | cyan-150 | `#A2DECE` | -           | -          |
| <img src="../assets/cyan-200.png" width="64" height="32"> | cyan-200 | `#87D3C3` | -           | -          |
| <img src="../assets/cyan-300.png" width="64" height="32"> | cyan-300 | `#5ABDAC` | -           | -          |
| <img src="../assets/cyan-400.png" width="64" height="32"> | cyan-400 | `#3AA99F` | `cyan2`     | `cyan`     |
| <img src="../assets/cyan-500.png" width="64" height="32"> | cyan-500 | `#2F968D` | -           | -          |
| <img src="../assets/cyan-600.png" width="64" height="32"> | cyan-600 | `#24837B` | `cyan`      | `cyan2`    |
| <img src="../assets/cyan-700.png" width="64" height="32"> | cyan-700 | `#1C6C66` | -           | -          |
| <img src="../assets/cyan-800.png" width="64" height="32"> | cyan-800 | `#164F4A` | -           | -          |
| <img src="../assets/cyan-850.png" width="64" height="32"> | cyan-850 | `#143F3C` | -           | -          |
| <img src="../assets/cyan-900.png" width="64" height="32"> | cyan-900 | `#122F2C` | -           | `cyan3`    |
| <img src="../assets/cyan-950.png" width="64" height="32"> | cyan-950 | `#101F1D` | -           | `cyan4`    |

### Blue

| Color                                                     | Name     | Hex       | Light Theme          | Dark Theme           |
| :-------------------------------------------------------- | :------- | :-------- | :------------------- | :------------------- |
| <img src="../assets/blue-50.png" width="64" height="32">  | blue-50  | `#E1ECEB` | `blue4`              | -                    |
| <img src="../assets/blue-100.png" width="64" height="32"> | blue-100 | `#C6DDE8` | `blue3, selectionBg` | -                    |
| <img src="../assets/blue-150.png" width="64" height="32"> | blue-150 | `#ABCFE2` | -                    | -                    |
| <img src="../assets/blue-200.png" width="64" height="32"> | blue-200 | `#92BFDB` | -                    | -                    |
| <img src="../assets/blue-300.png" width="64" height="32"> | blue-300 | `#66A0C8` | `focusRing`          | -                    |
| <img src="../assets/blue-400.png" width="64" height="32"> | blue-400 | `#4385BE` | `blue2`              | `blue`               |
| <img src="../assets/blue-500.png" width="64" height="32"> | blue-500 | `#3171B2` | -                    | -                    |
| <img src="../assets/blue-600.png" width="64" height="32"> | blue-600 | `#205EA6` | `blue`               | `blue2`              |
| <img src="../assets/blue-700.png" width="64" height="32"> | blue-700 | `#1A4F8C` | -                    | `focusRing`          |
| <img src="../assets/blue-800.png" width="64" height="32"> | blue-800 | `#163B66` | -                    | -                    |
| <img src="../assets/blue-850.png" width="64" height="32"> | blue-850 | `#133051` | -                    | -                    |
| <img src="../assets/blue-900.png" width="64" height="32"> | blue-900 | `#12253B` | -                    | `blue3, selectionBg` |
| <img src="../assets/blue-950.png" width="64" height="32"> | blue-950 | `#101A24` | -                    | `blue4`              |

### Purple

| Color                                                       | Name       | Hex       | Light Theme | Dark Theme |
| :---------------------------------------------------------- | :--------- | :-------- | :---------- | :--------- |
| <img src="../assets/purple-50.png" width="64" height="32">  | purple-50  | `#F0EAEC` | `purple4`   | -          |
| <img src="../assets/purple-100.png" width="64" height="32"> | purple-100 | `#E2D9E9` | `purple3`   | -          |
| <img src="../assets/purple-150.png" width="64" height="32"> | purple-150 | `#D3CAE6` | -           | -          |
| <img src="../assets/purple-200.png" width="64" height="32"> | purple-200 | `#C4B9E0` | -           | -          |
| <img src="../assets/purple-300.png" width="64" height="32"> | purple-300 | `#A699D0` | -           | -          |
| <img src="../assets/purple-400.png" width="64" height="32"> | purple-400 | `#8B7EC8` | `purple2`   | `purple`   |
| <img src="../assets/purple-500.png" width="64" height="32"> | purple-500 | `#735EB5` | -           | -          |
| <img src="../assets/purple-600.png" width="64" height="32"> | purple-600 | `#5E409D` | `purple`    | `purple2`  |
| <img src="../assets/purple-700.png" width="64" height="32"> | purple-700 | `#4F3685` | -           | -          |
| <img src="../assets/purple-800.png" width="64" height="32"> | purple-800 | `#3C2A62` | -           | -          |
| <img src="../assets/purple-850.png" width="64" height="32"> | purple-850 | `#31234E` | -           | -          |
| <img src="../assets/purple-900.png" width="64" height="32"> | purple-900 | `#261C39` | -           | `purple3`  |
| <img src="../assets/purple-950.png" width="64" height="32"> | purple-950 | `#1A1623` | -           | `purple4`  |

### Magenta

| Color                                                        | Name        | Hex       | Light Theme | Dark Theme |
| :----------------------------------------------------------- | :---------- | :-------- | :---------- | :--------- |
| <img src="../assets/magenta-50.png" width="64" height="32">  | magenta-50  | `#FEE4E5` | `magenta4`  | -          |
| <img src="../assets/magenta-100.png" width="64" height="32"> | magenta-100 | `#FCCFDA` | `magenta3`  | -          |
| <img src="../assets/magenta-150.png" width="64" height="32"> | magenta-150 | `#F9B9CF` | -           | -          |
| <img src="../assets/magenta-200.png" width="64" height="32"> | magenta-200 | `#F4A4C2` | -           | -          |
| <img src="../assets/magenta-300.png" width="64" height="32"> | magenta-300 | `#E47DA8` | -           | -          |
| <img src="../assets/magenta-400.png" width="64" height="32"> | magenta-400 | `#CE5D97` | `magenta2`  | `magenta`  |
| <img src="../assets/magenta-500.png" width="64" height="32"> | magenta-500 | `#B74583` | -           | -          |
| <img src="../assets/magenta-600.png" width="64" height="32"> | magenta-600 | `#A02F6F` | `magenta`   | `magenta2` |
| <img src="../assets/magenta-700.png" width="64" height="32"> | magenta-700 | `#87285E` | -           | -          |
| <img src="../assets/magenta-800.png" width="64" height="32"> | magenta-800 | `#641F46` | -           | -          |
| <img src="../assets/magenta-850.png" width="64" height="32"> | magenta-850 | `#4F1B39` | -           | -          |
| <img src="../assets/magenta-900.png" width="64" height="32"> | magenta-900 | `#39172B` | -           | `magenta3` |
| <img src="../assets/magenta-950.png" width="64" height="32"> | magenta-950 | `#24131D` | -           | `magenta4` |

## Theme System

### Theme Variables

Flexoki uses semantic color variables that automatically map to appropriate values based on theme selection:

#### Base Color Mappings

| Variable       | Light Theme | Dark Theme | Usage                |
| :------------- | :---------- | :--------- | :------------------- |
| `bg`           | paper       | black      | Main background      |
| `bg2`          | base-50     | base-950   | Secondary background |
| `ui`           | base-100    | base-900   | Borders              |
| `ui2`          | base-150    | base-850   | Hovered borders      |
| `ui3`          | base-200    | base-800   | Active borders       |
| `tx`           | base-850    | base-200   | Primary text         |
| `tx2`          | base-600    | base-500   | Muted text           |
| `tx3`          | base-500    | base-600   | Faint text           |
| `txDisabled`   | base-400    | base-600   | Disabled elements    |
| `txWhitespace` | base-300    | base-700   | Visible whitespace   |

#### Accent Color Mappings

Flexoki provides four semantic layers for each accent color:

| Layer    | Purpose                | Light Theme | Dark Theme | Example Usage        |
| :------- | :--------------------- | :---------- | :--------- | :------------------- |
| `color`  | Primary accent         | 600         | 400        | Text, borders, icons |
| `color2` | Secondary accent       | 400         | 600        | Alternative states   |
| `color3` | Background accent      | 100         | 900        | Subtle backgrounds   |
| `color4` | Very subtle background | 50          | 950        | Diff backgrounds     |

**Primary Layer (color)**

| Variable  | Light Theme | Dark Theme  | UI Usage             | Syntax Usage          |
| :-------- | :---------- | :---------- | :------------------- | :-------------------- |
| `red`     | red-600     | red-400     | Error text           | Errors                |
| `orange`  | orange-600  | orange-400  | Warning text         | Numbers               |
| `yellow`  | yellow-600  | yellow-400  | Attention text       | Constants             |
| `green`   | green-600   | green-400   | Success text         | Strings               |
| `cyan`    | cyan-600    | cyan-400    | Links, active states | Types                 |
| `blue`    | blue-600    | blue-400    | Information text     | Functions, attributes |
| `purple`  | purple-600  | purple-400  | Accent text          | Language features     |
| `magenta` | magenta-600 | magenta-400 | Highlight text       | Keywords              |

**All accent colors also have `color2`, `color3`, and `color4` variants following the pattern above.**

#### Special Purpose Variables

| Variable          | Light Theme | Dark Theme | Usage                     |
| :---------------- | :---------- | :--------- | :------------------------ |
| `focusRing`       | blue-300    | blue-700   | Keyboard focus indicators |
| `selectionBg`     | blue-100    | blue-900   | Text selection background |
| `searchMatchBg`   | yellow-100  | yellow-900 | Search result highlights  |
| `searchCurrentBg` | orange-100  | orange-900 | Active search result      |

### Theme Selection

- **Light themes**: Use 600-level accent colors for syntax highlighting
- **Dark themes**: Use 400-level accent colors for syntax highlighting
- **Base colors**: Automatically mapped based on theme selection

## Syntax Highlighting

Research-based color assignments aligned with industry conventions and accessibility standards.

> [!IMPORTANT]
> Text colors are guidelines. Legibility always comes first. Adjust colors when they don't provide sufficient contrast in your specific environment.

| Element                | Color   | Usage                              |
| :--------------------- | :------ | :--------------------------------- |
| Comments               | tx3     | Faint text for code comments       |
| Keywords               | magenta | Language keywords (if, for, class) |
| Strings                | green   | String literals and text           |
| Functions              | blue    | Function names and calls           |
| Constants              | yellow  | Constants and literals             |
| Numbers                | orange  | Numeric values                     |
| Types                  | cyan    | Data types and type annotations    |
| Variables              | tx      | Variable names and identifiers     |
| Attributes             | tx      | Object properties and attributes   |
| Built-in functions     | purple  | Built-in functions and macros      |
| Punctuation, operators | tx      | Mathematical and logical operators |
| Errors                 | red     | Syntax errors and invalid code     |
| Imports                | cyan    | Import/include statements          |

### Color Rationale

Technical rationale for color assignments:

#### Industry-Standard Assignments

| Color Family | Programming Context        | Technical Rationale                                                            |
| :----------- | :------------------------- | :----------------------------------------------------------------------------- |
| **Magenta**  | Keywords & control flow    | Purple/magenta universally signals "special language constructs" (90%+ themes) |
| **Green**    | String literals            | Green represents literal text content within code structure                    |
| **Blue**     | Functions & methods        | Blue indicates callable/executable code blocks                                 |
| **Orange**   | Numbers & literals         | Orange draws attention to literal values without alarm (yellow = warning)      |
| **Cyan**     | Types & architecture       | Cyan indicates type definitions and structural elements                        |
| **Yellow**   | Constants                  | Yellow indicates immutable values and compile-time constants                   |
| **Purple**   | Language features & macros | Purple for meta-programming elements that transform or extend language         |
| **Red**      | Errors                     | Universal error indicator for syntax errors and problems                       |

#### Visual Hierarchy Principles

1. **Foreground Priority**: Variables and user content use default text color - they're the primary focus
2. **Accent Hierarchy**: Language constructs get distinctive colors, user content remains neutral
3. **Attention Balance**: Bright colors (orange, yellow) reserved for values requiring attention
4. **Cognitive Grouping**: Related concepts share colors (all functions blue, all types cyan)

#### Accessibility Considerations

- **Contrast Ratios**: All color combinations maintain WCAG AA compliance (4.5:1 minimum)
- **Color Blindness**: Multiple visual cues beyond color (brightness, context) aid comprehension
- **Perceptual Balance**: Colors chosen using Oklab color space for consistent perceived intensity

### Semantic Element Categories

Generic syntax highlighting recommendations applicable to any highlighting system:

#### Core Language Elements

| Element Category         | Color   | Rationale                                          |
| :----------------------- | :------ | :------------------------------------------------- |
| Comments & Documentation | tx3     | Subdued to not interfere with active code content  |
| Keywords                 | magenta | Magenta follows universal convention (90%+ themes) |
| Control Flow             | magenta | Consistent with keywords for cognitive grouping    |
| Function Keywords        | magenta | Language constructs treated uniformly              |

#### Literal Values & Constants

| Element Category   | Color  | Rationale                                        |
| :----------------- | :----- | :----------------------------------------------- |
| String Literals    | green  | Green aligns with "natural" content metaphor     |
| String Escapes     | purple | Purple for special/meta sequences within strings |
| Numbers            | orange | Orange for attention-drawing literal values      |
| Booleans           | orange | Consistent with other primitive literals         |
| Constants          | yellow | Yellow for permanent/immutable values            |
| Built-in Constants | orange | Orange distinguishes language-provided constants |

#### Functions & Identifiers

| Element Category     | Color | Rationale                                            |
| :------------------- | :---- | :--------------------------------------------------- |
| Function Definitions | blue  | Blue conveys stability and trustworthiness           |
| Function Calls       | blue  | Consistent with definitions for easy recognition     |
| Variables            | tx    | Default text for user-defined content                |
| Parameters           | tx2   | Slightly muted to distinguish from regular variables |
| Object Properties    | tx    | Default text for property access                     |

#### Types & Structure

| Element Category | Color | Rationale                                        |
| :--------------- | :---- | :----------------------------------------------- |
| Type Definitions | cyan  | Cyan for systematic, architectural elements      |
| Built-in Types   | cyan  | Consistent treatment of type system concepts     |
| Operators        | tx    | Default text for better visibility of operations |
| Punctuation      | tx2   | Subtle treatment of structural syntax elements   |

### Extended Semantic Elements

Advanced syntax highlighting for modern programming constructs:

#### Scoping & Organization

| Element Category | Color | Rationale                                      |
| :--------------- | :---- | :--------------------------------------------- |
| Namespaces       | cyan  | Cyan for organizational/architectural concepts |
| Modules          | cyan  | Consistent with namespace-level organization   |
| Packages         | cyan  | High-level structural elements                 |

#### Object-Oriented Constructs

| Element Category      | Color | Rationale                                       |
| :-------------------- | :---- | :---------------------------------------------- |
| Class Definitions     | cyan  | Cyan for type system and structural definitions |
| Interface Definitions | cyan  | Consistent with other type-defining constructs  |
| Enum Definitions      | cyan  | Part of type system architecture                |
| Methods               | blue  | Blue consistent with function treatment         |
| Properties            | tx    | Default text for property access patterns       |

#### Functional & Meta Elements

| Element Category    | Color  | Rationale                                          |
| :------------------ | :----- | :------------------------------------------------- |
| Local Variables     | tx     | Default text for scope-local user content          |
| Function Parameters | tx2    | Muted to distinguish parameter context             |
| Macros              | purple | Purple for meta-programming and special processing |
| Annotations         | tx2    | Muted for metadata that supplements main content   |
| Imports/Includes    | cyan   | Cyan for module organization and dependencies      |

## UI Elements

### UI Layer System

Flexoki organizes UI elements into distinct layers for consistent visual hierarchy:

| Layer      | Light Theme | Dark Theme | Z-Index | Usage                  |
| :--------- | :---------- | :--------- | :------ | :--------------------- |
| Background | paper       | black      | 0       | Main editor background |
| Secondary  | base-50     | base-950   | 1       | Sidebars, panels       |
| Surface 0  | base-100    | base-900   | 2       | Cards, dropdowns       |
| Surface 1  | base-150    | base-850   | 3       | Hover states           |
| Surface 2  | base-200    | base-800   | 4       | Active/selected        |
| Overlay 0  | base-300    | base-700   | 5       | Tooltips, popovers     |
| Overlay 1  | base-400    | base-600   | 6       | Modal backgrounds      |
| Overlay 2  | base-500    | base-500   | 7       | Shadows, borders       |

> [!NOTE]
> The Z-Index values are suggestions for visual hierarchy. Actual implementation may vary based on your editor or application's layout system.

### Editor Interface Elements

| Element              | Color  | Usage                              |
| :------------------- | :----- | :--------------------------------- |
| Line numbers         | tx3    | Subtle reference information       |
| Current line number  | tx2    | Slightly emphasized                |
| Cursor               | tx     | Primary text color for visibility  |
| Selection background | ui2    | Secondary UI color                 |
| Search matches       | yellow | Yellow for high visibility         |
| Current search       | orange | Orange for active search result    |
| Visual selection     | ui3    | Active border color                |
| Matching brackets    | tx2    | Muted to not distract from content |

### UI State Colors

Flexoki uses specific palette colors to provide subtle visual feedback for UI states:

> [!NOTE]
> These colors are selected from the Flexoki palette to provide subtle visual feedback without using opacity.

| Element        | Semantic Variable | Light Theme | Dark Theme | Usage                    |
| :------------- | :---------------- | :---------- | :--------- | :----------------------- |
| Selection BG   | `selectionBg`     | blue-100    | blue-900   | Selected text background |
| Cursor Line BG | `bg2`             | base-50     | base-950   | Current line highlight   |
| Search Match   | `searchMatchBg`   | yellow-100  | yellow-900 | Find results             |
| Current Search | `searchCurrentBg` | orange-100  | orange-900 | Active search result     |
| Hover Surface  | `ui`              | base-100    | base-900   | Interactive hover states |
| Disabled Text  | `txDisabled`      | base-400    | base-600   | Disabled elements        |
| Drop Target    | `cyan4`           | cyan-50     | cyan-950   | Drag and drop zones      |
| Focus Ring     | `focusRing`       | blue-300    | blue-700   | Keyboard focus indicator |
| Indent Guide   | `ui3`             | base-200    | base-800   | Indentation lines        |
| Whitespace     | `txWhitespace`    | base-300    | base-700   | Visible whitespace chars |

### Special UI States

Flexoki defines specific colors for interactive UI elements and their various states:

| Element                | State        | Semantic Variable | Light Theme | Dark Theme | Notes                  |
| :--------------------- | :----------- | :---------------- | :---------- | :--------- | :--------------------- |
| **Borders**            |
| Border                 | Active       | `blue2`           | blue-400    | blue-600   | Current focus          |
| Border                 | Inactive     | `ui3`             | base-200    | base-800   | Default state          |
| Border                 | Error        | `red2`            | red-400     | red-600    | Validation error       |
| Border                 | Success      | `green2`          | green-400   | green-600  | Valid state            |
| **Links**              |
| Link                   | Normal       | `cyan`            | cyan-600    | cyan-400   | Unvisited              |
| Link                   | Visited      | `purple`          | purple-600  | purple-400 | Previously visited     |
| Link                   | Hover        | `blue`            | blue-600    | blue-400   | Mouse over             |
| Link                   | Active       | `green`           | green-600   | green-400  | Being clicked          |
| **Badges & Pills**     |
| Badge BG               | Info         | `blue3`           | blue-100    | blue-900   | Information            |
| Badge BG               | Success      | `green3`          | green-100   | green-900  | Completed              |
| Badge BG               | Warning      | `yellow3`         | yellow-100  | yellow-900 | Attention              |
| Badge BG               | Error        | `red3`            | red-100     | red-900    | Problem                |
| Badge FG               | All States   | `tx`              | tx          | tx         | Badge text             |
| **Buttons**            |
| Button                 | Primary BG   | `blue`            | blue-600    | blue-400   | Primary action         |
| Button                 | Secondary BG | `ui3`             | base-200    | base-800   | Secondary action       |
| Button                 | Danger BG    | `red`             | red-600     | red-400    | Destructive action     |
| Button                 | Hover        | Use `color2`      | +100 level  | -100 level | Hover state modifier   |
| **Marks & Highlights** |
| Mark 1                 | Background   | `purple3`         | purple-100  | purple-900 | First highlight color  |
| Mark 2                 | Background   | `cyan3`           | cyan-100    | cyan-900   | Second highlight color |
| Mark 3                 | Background   | `yellow3`         | yellow-100  | yellow-900 | Third highlight color  |

## Specialized Colors

### Git and Diff Highlighting

Flexoki provides comprehensive colors for version control visualization:

| Element                 | Semantic Variable | Light Theme | Dark Theme | Usage                  |
| :---------------------- | :---------------- | :---------- | :--------- | :--------------------- |
| **Headers**             |
| Diff Header             | `blue`            | blue-600    | blue-400   | File comparison header |
| Hunk Header             | `orange`          | orange-600  | orange-400 | @@ line markers        |
| File Path               | `purple`          | purple-600  | purple-400 | a/file.txt b/file.txt  |
| Metadata                | `txDisabled`      | base-400    | base-600   | Index, mode info       |
| **Line Backgrounds**    |
| Added Line BG           | `green4`          | green-50    | green-950  | New lines              |
| Removed Line BG         | `red4`            | red-50      | red-950    | Deleted lines          |
| Modified Line BG        | `yellow4`         | yellow-50   | yellow-950 | Changed lines          |
| **Word/Character Diff** |
| Added Word BG           | `green3`          | green-100   | green-900  | Inline additions       |
| Removed Word BG         | `red3`            | red-100     | red-900    | Inline deletions       |
| Modified Word BG        | `yellow3`         | yellow-100  | yellow-900 | Inline changes         |
| **Merge Conflicts**     |
| Current BG              | `cyan4`           | cyan-50     | cyan-950   | HEAD changes           |
| Incoming BG             | `blue4`           | blue-50     | blue-950   | Branch changes         |
| Ancestor BG             | `purple4`         | purple-50   | purple-950 | Base version           |
| **Gutter Icons**        |
| Added                   | `green`           | green-600   | green-400  | + symbol               |
| Removed                 | `red`             | red-600     | red-400    | - symbol               |
| Modified                | `yellow`          | yellow-600  | yellow-400 | ~ symbol               |
| **Git Status**          |
| Untracked               | `txDisabled`      | base-400    | base-600   | New untracked files    |
| Ignored                 | `txWhitespace`    | base-300    | base-700   | Ignored files          |
| Conflicted              | `red`             | red-600     | red-400    | Merge conflicts        |
| Staged                  | `green`           | green-600   | green-400  | Staged changes         |

### Diagnostic and Debug Colors

| Element             | Color  | Usage                             |
| :------------------ | :----- | :-------------------------------- |
| Error diagnostics   | red    | Red for errors                    |
| Warning diagnostics | orange | Orange for warnings               |
| Info diagnostics    | blue   | Blue for information              |
| Hint diagnostics    | tx2    | Muted for subtle suggestions      |
| Breakpoints         | red    | Red for debug breakpoints         |
| Debug highlights    | yellow | Yellow for execution highlighting |

### Terminal & ANSI Colors

Flexoki provides a complete 16-color ANSI palette that conforms to standard terminal color expectations while maintaining the Flexoki aesthetic:

> [!NOTE]
> This palette follows traditional ANSI color standards for maximum compatibility. Colors are optimized for both light and dark terminal themes.

#### Standard 16-Color Palette

| ANSI | Name           | Light Theme | Dark Theme  | Usage               |
| :--- | :------------- | :---------- | :---------- | :------------------ |
| 0    | Black          | black       | black       | Standard black      |
| 1    | Red            | red-600     | red-400     | Errors, alerts      |
| 2    | Green          | green-600   | green-400   | Success, additions  |
| 3    | Yellow         | yellow-600  | yellow-400  | Warnings            |
| 4    | Blue           | blue-600    | blue-400    | Information         |
| 5    | Magenta        | magenta-600 | magenta-400 | Special items       |
| 6    | Cyan           | cyan-600    | cyan-400    | Links, emphasis     |
| 7    | White          | base-50     | base-400    | Standard white/gray |
| 8    | Bright Black   | base-600    | base-500    | Dimmed/secondary    |
| 9    | Bright Red     | red-500     | red-300     | Bright errors       |
| 10   | Bright Green   | green-500   | green-300   | Bright success      |
| 11   | Bright Yellow  | yellow-500  | yellow-300  | Bright warnings     |
| 12   | Bright Blue    | blue-500    | blue-300    | Bright info         |
| 13   | Bright Magenta | magenta-500 | magenta-300 | Bright special      |
| 14   | Bright Cyan    | cyan-500    | cyan-300    | Bright emphasis     |
| 15   | Bright White   | paper       | paper       | Brightest white     |

#### Terminal Window Colors

| Element         | Light Theme | Dark Theme | Usage                    |
| :-------------- | :---------- | :--------- | :----------------------- |
| Cursor          | base-850    | base-200   | Terminal cursor          |
| Cursor Text     | paper       | black      | Text under cursor        |
| Selection       | blue-100    | blue-900   | Selected text background |
| Active Border   | blue-400    | blue-600   | Active window border     |
| Inactive Border | base-200    | base-800   | Inactive window border   |
| Bell Border     | yellow-400  | yellow-600 | Visual bell indicator    |

## Implementation Guidelines

### Design Principles

1. **Convention Alignment**: Color assignments follow established syntax highlighting conventions for intuitive code reading
2. **Perceptual Balance**: Colors maintain visual hierarchy without competing for attention
3. **Context Sensitivity**: Same colors serve different purposes in UI vs. syntax contexts
4. **Progressive Enhancement**: Basic Vim groups provide fallback, Tree-sitter adds precision, LSP adds context

> [!TIP]
> Use the semantic variables (tx, bg, ui) instead of direct color values for better theme consistency and easier maintenance.

### Implementation Approach

**Layer 1: Basic Syntax Groups** (Maximum Compatibility)

- Implement fundamental syntax categories first (comments, keywords, strings, etc.)
- Ensures compatibility with basic highlighting systems
- Provides fallback for simple or legacy highlighting engines

**Layer 2: Semantic Enhancement** (Precision)

- Add precise semantic category mappings for improved accuracy
- Focus on language-agnostic semantic consistency
- Use more granular color distinctions for syntax elements

**Layer 3: Contextual Highlighting** (Intelligence)

- Layer context-aware highlighting over semantic categories
- Provide advanced colors based on usage context (definitions vs references)
- Enable sophisticated features like scope-based dimming

### Color Usage Best Practices

1. **Foreground Colors**: Use semantic variables (`tx`, `red`, `green`, etc.) rather than direct palette colors
2. **Background Usage**: Apply base colors (`bg`, `bg2`, `ui`, etc.) with appropriate opacity for overlays
3. **Contrast Ratios**: Maintain WCAG AA compliance (4.5:1) for text on background
4. **Theme Consistency**: Ensure light/dark theme variants use appropriate color levels (600 vs 400)

### Testing Recommendations

1. **Cross-Language Testing**: Verify highlighting consistency across multiple programming languages
2. **Accessibility Testing**: Test with color blindness simulators and contrast checking tools
3. **Context Testing**: Ensure colors work well in different editor contexts (diff views, search results, etc.)
4. **Performance Testing**: Validate that complex highlight rules don't impact editor performance

## Attribution

Flexoki color scheme created by [Steph Ango](https://stephango.com/flexoki).
Licensed under the MIT License.

For the complete specification and additional ports, visit: <https://stephango.com/flexoki>
